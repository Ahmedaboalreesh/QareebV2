<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงุฎุชุจุงุฑ ุฎุฑูุทุฉ ุงูุญุฌูุฒุงุช</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&libraries=places"></script>
    <style>
        .test-section {
            margin-top: 80px;
            padding: 40px 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: calc(100vh - 80px);
        }
        
        .test-container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .test-header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .test-header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-outline {
            background: transparent;
            color: #667eea;
            border: 2px solid #667eea;
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .info-box {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }
        
        .info-box h4 {
            color: #1976d2;
            margin-bottom: 10px;
        }
        
        .info-box ul {
            text-align: right;
            margin: 0;
            padding-right: 20px;
        }
        
        .info-box li {
            margin-bottom: 5px;
            color: #666;
        }
        
        .demo-map {
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 1px solid #e9ecef;
        }
        
        .demo-map h4 {
            margin-bottom: 15px;
            color: #1f2937;
        }
        
        .test-map {
            width: 100%;
            height: 300px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-logo">
                    <a href="index.html">
                        <i class="fas fa-car"></i>
                        <span>ููุตุฉ ุชุฃุฌูุฑ ุงูุณูุงุฑุงุช</span>
                    </a>
                </div>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link">ุงูุฑุฆูุณูุฉ</a>
                    </li>
                    <li class="nav-item">
                        <a href="browse-cars.html" class="nav-link">ุชุตูุญ ุงูุณูุงุฑุงุช</a>
                    </li>
                    <li class="nav-item">
                        <a href="add-car.html" class="nav-link">ุฅุถุงูุฉ ุณูุงุฑุฉ</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Test Section -->
    <section class="test-section">
        <div class="container">
            <div class="test-header">
                <h1>ุงุฎุชุจุงุฑ ุฎุฑูุทุฉ ุงูุญุฌูุฒุงุช</h1>
                <p>ุฅุถุงูุฉ ุฎุฑูุทุฉ ุชูุงุนููุฉ ููููุน ุงูุงุณุชูุงู ูู ุตูุญุฉ ุงูุญุฌูุฒุงุช</p>
            </div>

            <div class="test-container">
                <h2>ุงูููุฒุฉ ุงูุฌุฏูุฏุฉ</h2>
                <div class="info-box">
                    <h4>ุฎุฑูุทุฉ ูููุน ุงูุงุณุชูุงู:</h4>
                    <ul>
                        <li>โ ุฎุฑูุทุฉ ุชูุงุนููุฉ ุจุงุณุชุฎุฏุงู Google Maps API</li>
                        <li>โ ุนุฑุถ ูููุน ุงูุงุณุชูุงู ุจุฏูุฉ</li>
                        <li>โ ุฅููุงููุฉ ุงูุญุตูู ุนูู ุงูุงุชุฌุงูุงุช</li>
                        <li>โ ูุณุฎ ุงูุนููุงู ููุงุณุชุฎุฏุงู</li>
                        <li>โ ุชุตููู ูุชุฌุงูุจ ููุฌูุงู</li>
                        <li>โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุนุฑุถ ุฑุณุงุฆู ููุงุณุจุฉ</li>
                    </ul>
                </div>
            </div>

            <div class="test-container">
                <h2>ุงุฎุชุจุงุฑ ุงูุฎุฑูุทุฉ</h2>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="testMyBookings()">
                        <i class="fas fa-eye"></i>
                        ุงุฎุชุจุงุฑ ุตูุญุฉ ุงูุญุฌูุฒุงุช
                    </button>
                    <button class="btn btn-success" onclick="addSampleBookings()">
                        <i class="fas fa-plus"></i>
                        ุฅุถุงูุฉ ุญุฌูุฒุงุช ุชุฌุฑูุจูุฉ
                    </button>
                    <button class="btn btn-outline" onclick="testMapFeatures()">
                        <i class="fas fa-map"></i>
                        ุงุฎุชุจุงุฑ ููุฒุงุช ุงูุฎุฑูุทุฉ
                    </button>
                </div>
                
                <div class="info-box">
                    <h4>ููููุฉ ุงุฎุชุจุงุฑ ุงูุฎุฑูุทุฉ:</h4>
                    <ul>
                        <li>1. ุงุถุบุท ุนูู "ุฅุถุงูุฉ ุญุฌูุฒุงุช ุชุฌุฑูุจูุฉ" ูุฅูุดุงุก ุจูุงูุงุช</li>
                        <li>2. ุงุถุบุท ุนูู "ุงุฎุชุจุงุฑ ุตูุญุฉ ุงูุญุฌูุฒุงุช" ููุชุญ ุงูุตูุญุฉ</li>
                        <li>3. ุงุถุบุท ุนูู "ุนุฑุถ ุงูุชูุงุตูู" ูุฃู ุญุฌุฒ</li>
                        <li>4. ุณุชุฌุฏ ุงูุฎุฑูุทุฉ ุชุญุช ูุนูููุงุช ุงูุงุณุชูุงู ูุงูุฅุฑุฌุงุน</li>
                        <li>5. ุงุฎุชุจุฑ ุฃุฒุฑุงุฑ "ุงูุญุตูู ุนูู ุงูุงุชุฌุงูุงุช" ู "ูุณุฎ ุงูุนููุงู"</li>
                        <li>6. ุงุถุบุท ุนูู ุงูุนูุงูุฉ ูู ุงูุฎุฑูุทุฉ ูุฑุคูุฉ ุงููุนูููุงุช</li>
                    </ul>
                </div>
            </div>

            <div class="test-container">
                <h2>ูุซุงู ุนูู ุงูุฎุฑูุทุฉ</h2>
                <div class="demo-map">
                    <h4>ุฎุฑูุทุฉ ุชุฌุฑูุจูุฉ - ูุทุงุฑ ุงูููู ุฎุงูุฏ ุงูุฏููู</h4>
                    <div id="demoMap" class="test-map"></div>
                    <div class="map-actions">
                        <button class="btn btn-outline" onclick="getDirections('ูุทุงุฑ ุงูููู ุฎุงูุฏ ุงูุฏููู')">
                            <i class="fas fa-directions"></i>
                            ุงูุญุตูู ุนูู ุงูุงุชุฌุงูุงุช
                        </button>
                        <button class="btn btn-outline" onclick="copyLocation('ูุทุงุฑ ุงูููู ุฎุงูุฏ ุงูุฏููู')">
                            <i class="fas fa-copy"></i>
                            ูุณุฎ ุงูุนููุงู
                        </button>
                    </div>
                </div>
            </div>

            <div class="test-container">
                <h2>ุงูููุงูุน ุงูุชุฌุฑูุจูุฉ</h2>
                <div class="info-box">
                    <h4>ููุงูุน ุงูุงุณุชูุงู ูู ุงูุญุฌูุฒุงุช ุงูุชุฌุฑูุจูุฉ:</h4>
                    <ul>
                        <li>๐ <strong>ูุทุงุฑ ุงูููู ุฎุงูุฏ ุงูุฏููู</strong> - ุงูุฑูุงุถ</li>
                        <li>๐ <strong>ููุฏู ุงูุดุฑู</strong> - ุงูุฏูุงู</li>
                        <li>๐ <strong>ูุฑูุฒ ุงููุฏููุฉ ุงูุชุฌุงุฑู</strong> - ุงูุฑูุงุถ</li>
                        <li>๐ <strong>ูุทุงุฑ ุงูููู ููุฏ ุงูุฏููู</strong> - ุงูุฏูุงู</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Initialize demo map
        function initializeDemoMap() {
            try {
                const mapElement = document.getElementById('demoMap');
                if (!mapElement) return;

                // Riyadh Airport coordinates
                const riyadhAirport = { lat: 24.9578, lng: 46.6989 };

                const map = new google.maps.Map(mapElement, {
                    center: riyadhAirport,
                    zoom: 15,
                    mapTypeId: google.maps.MapTypeId.ROADMAP,
                    mapTypeControl: true,
                    streetViewControl: true,
                    fullscreenControl: true
                });

                const marker = new google.maps.Marker({
                    position: riyadhAirport,
                    map: map,
                    title: 'ูุทุงุฑ ุงูููู ุฎุงูุฏ ุงูุฏููู',
                    icon: {
                        url: 'https://maps.google.com/mapfiles/ms/icons/red-dot.png',
                        scaledSize: new google.maps.Size(32, 32)
                    }
                });

                const infoWindow = new google.maps.InfoWindow({
                    content: `
                        <div style="text-align: center; font-family: 'Cairo', sans-serif;">
                            <h4 style="margin: 0 0 5px 0; color: #333;">ูุทุงุฑ ุงูููู ุฎุงูุฏ ุงูุฏููู</h4>
                            <p style="margin: 0; color: #666; font-size: 14px;">ูุทุงุฑ ุงูููู ุฎุงูุฏ ุงูุฏูููุ ุงูุฑูุงุถุ ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ</p>
                        </div>
                    `
                });

                marker.addListener('click', () => {
                    infoWindow.open(map, marker);
                });
            } catch (error) {
                console.error('Error initializing demo map:', error);
            }
        }

        function testMyBookings() {
            // ุฅูุดุงุก ูุณุชุฎุฏู ุชุฌุฑูุจู ุฅุฐุง ูู ููู ููุฌูุฏุงู
            if (!localStorage.getItem('userData')) {
                const testUser = {
                    id: 1,
                    name: 'ุฃุญูุฏ ูุญูุฏ',
                    email: 'ahmed@test.com',
                    phone: '+966501234567'
                };
                localStorage.setItem('userData', JSON.stringify(testUser));
                localStorage.setItem('userToken', 'test-token');
                localStorage.setItem('userType', 'renter');
            }
            
            // ูุชุญ ุตูุญุฉ ุงูุญุฌูุฒุงุช
            window.open('my-bookings.html', '_blank');
        }

        function addSampleBookings() {
            const currentUser = JSON.parse(localStorage.getItem('userData') || '{}');
            const currentUserId = currentUser.id || 1;
            
            const sampleBookings = [
                {
                    id: 1,
                    car_id: 1,
                    renter_id: currentUserId,
                    car_name: 'ุชูููุชุง ูุงูุฑู 2023',
                    car_brand: 'ุชูููุชุง',
                    car_model: 'ูุงูุฑู',
                    car_year: '2023',
                    start_date: '2024-01-15',
                    end_date: '2024-01-18',
                    total_amount: 450,
                    deposit_amount: 500,
                    status: 'pending',
                    pickup_location: 'ูุทุงุฑ ุงูููู ุฎุงูุฏ ุงูุฏููู',
                    return_location: 'ูุทุงุฑ ุงูููู ุฎุงูุฏ ุงูุฏููู',
                    renter_notes: 'ุฃุญุชุงุฌ ุณูุงุฑุฉ ููุชููู ูู ุงูุฑูุงุถ',
                    created_at: '2024-01-10T10:00:00Z',
                    owner_name: 'ุฃุญูุฏ ูุญูุฏ',
                    owner_phone: '+966501234567'
                },
                {
                    id: 2,
                    car_id: 3,
                    renter_id: currentUserId,
                    car_name: 'ูุฑุณูุฏุณ C-Class 2023',
                    car_brand: 'ูุฑุณูุฏุณ',
                    car_model: 'C-Class',
                    car_year: '2023',
                    start_date: '2024-01-20',
                    end_date: '2024-01-25',
                    total_amount: 1500,
                    deposit_amount: 500,
                    status: 'approved',
                    pickup_location: 'ููุฏู ุงูุดุฑู',
                    return_location: 'ููุฏู ุงูุดุฑู',
                    renter_notes: 'ุฑุญูุฉ ุนูู ูู ุงูุฏูุงู',
                    created_at: '2024-01-12T14:30:00Z',
                    owner_name: 'ูุงุทูุฉ ุนูู',
                    owner_phone: '+966507654321'
                },
                {
                    id: 3,
                    car_id: 5,
                    renter_id: currentUserId,
                    car_name: 'ููููุฏุงู ุณููุงุชุง 2022',
                    car_brand: 'ููููุฏุงู',
                    car_model: 'ุณููุงุชุง',
                    car_year: '2022',
                    start_date: '2024-02-01',
                    end_date: '2024-02-03',
                    total_amount: 300,
                    deposit_amount: 400,
                    status: 'completed',
                    pickup_location: 'ูุฑูุฒ ุงููุฏููุฉ ุงูุชุฌุงุฑู',
                    return_location: 'ูุฑูุฒ ุงููุฏููุฉ ุงูุชุฌุงุฑู',
                    renter_notes: 'ุฑุญูุฉ ุนุงุฆููุฉ ูุตูุฑุฉ',
                    created_at: '2024-01-25T09:15:00Z',
                    owner_name: 'ุฎุงูุฏ ุนุจุฏุงููู',
                    owner_phone: '+966509876543'
                },
                {
                    id: 4,
                    car_id: 7,
                    renter_id: currentUserId,
                    car_name: 'ููุณุงู ุฃูุชููุง 2023',
                    car_brand: 'ููุณุงู',
                    car_model: 'ุฃูุชููุง',
                    car_year: '2023',
                    start_date: '2024-02-10',
                    end_date: '2024-02-12',
                    total_amount: 400,
                    deposit_amount: 300,
                    status: 'rejected',
                    pickup_location: 'ูุทุงุฑ ุงูููู ููุฏ ุงูุฏููู',
                    return_location: 'ูุทุงุฑ ุงูููู ููุฏ ุงูุฏููู',
                    renter_notes: 'ุฑุญูุฉ ุนูู ูู ุงูุฏูุงู',
                    created_at: '2024-01-30T16:45:00Z',
                    owner_name: 'ุณุงุฑุฉ ุฃุญูุฏ',
                    owner_phone: '+966505555555'
                }
            ];
            
            // ุญูุธ ุงูุญุฌูุฒุงุช
            localStorage.setItem('mockBookings', JSON.stringify(sampleBookings));
            
            alert('ุชู ุฅุถุงูุฉ ุญุฌูุฒุงุช ุชุฌุฑูุจูุฉ ุจูุฌุงุญ! ููููู ุงูุขู ุงุฎุชุจุงุฑ ุงูุฎุฑูุทุฉ ูู ุตูุญุฉ ุงูุญุฌูุฒุงุช');
        }

        function testMapFeatures() {
            alert('ุงุฎุชุจุงุฑ ููุฒุงุช ุงูุฎุฑูุทุฉ:\n\n1. ุงุถุบุท ุนูู "ุงูุญุตูู ุนูู ุงูุงุชุฌุงูุงุช" ููุชุญ Google Maps\n2. ุงุถุบุท ุนูู "ูุณุฎ ุงูุนููุงู" ููุณุฎ ุงูุนููุงู\n3. ุงุถุบุท ุนูู ุงูุนูุงูุฉ ูู ุงูุฎุฑูุทุฉ ูุฑุคูุฉ ุงููุนูููุงุช');
        }

        // Get directions function
        function getDirections(location) {
            try {
                const directionsUrl = `https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(location + ', Saudi Arabia')}`;
                window.open(directionsUrl, '_blank');
            } catch (error) {
                console.error('Error opening directions:', error);
                alert('ุญุฏุซ ุฎุทุฃ ูู ูุชุญ ุงูุงุชุฌุงูุงุช');
            }
        }

        // Copy location function
        function copyLocation(location) {
            try {
                navigator.clipboard.writeText(location).then(() => {
                    alert('ุชู ูุณุฎ ุงูุนููุงู ุจูุฌุงุญ: ' + location);
                }).catch(() => {
                    // Fallback for older browsers
                    const textArea = document.createElement('textarea');
                    textArea.value = location;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    alert('ุชู ูุณุฎ ุงูุนููุงู ุจูุฌุงุญ: ' + location);
                });
            } catch (error) {
                console.error('Error copying location:', error);
                alert('ุญุฏุซ ุฎุทุฃ ูู ูุณุฎ ุงูุนููุงู');
            }
        }

        // Initialize demo map when page loads
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                initializeDemoMap();
            }, 1000);
        });
    </script>
</body>
</html>
