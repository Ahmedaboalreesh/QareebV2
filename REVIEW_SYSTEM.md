# ูุธุงู ุงูุชููููุงุช - ููุตุฉ ุดุงุฑู ุณูุงุฑุชู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุงูุชููููุงุช ุงูุดุงูู ูู ููุตุฉ ุดุงุฑู ุณูุงุฑุชู ูุชูุญ ูููุณุชุฎุฏููู ุชูููู ุชุฌุฑุจุชูู ูุน ุงูุณูุงุฑุงุช ูุงููุงููููุ ููุง ูุณุงุนุฏ ูู ุจูุงุก ูุฌุชูุน ููุซูู ูุดูุงู.

## ๐ฏ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### โ ุชูููู ุดุงูู
- **ุงูุชูููู ุงูุนุงู**: ูู 1 ุฅูู 5 ูุฌูู
- **ุชููููุงุช ููุตูุฉ**: ุงููุธุงูุฉุ ุญุงูุฉ ุงูุณูุงุฑุฉุ ุงูุชูุงุตู ูุน ุงููุงูู
- **ุงูุชุนูููุงุช**: ุฅููุงููุฉ ูุชุงุจุฉ ุชุนูููุงุช ููุตูุฉ (ุญุชู 500 ุญุฑู)

### โ ุฃููุงุน ุงูุชููููุงุช
- **ูุณุชุฃุฌุฑ ูููุงูู**: ุชูููู ุงููุณุชุฃุฌุฑ ููุณูุงุฑุฉ ูุงููุงูู
- **ูุงูู ูููุณุชุฃุฌุฑ**: ุชูููู ุงููุงูู ูููุณุชุฃุฌุฑ (ููุฏ ุงูุชุทููุฑ)

### โ ุฅุฏุงุฑุฉ ุงูุชููููุงุช
- ุนุฑุถ ุฌููุน ุงูุชููููุงุช ุงูููุฏูุฉ ูุงููุณุชููุฉ
- ุฅุญุตุงุฆูุงุช ุดุงููุฉ ููุชููููุงุช
- ุฅููุงููุฉ ุชุนุฏูู ูุญุฐู ุงูุชููููุงุช
- ุชุตููุฉ ุงูุชููููุงุช ุญุณุจ ุงูููุน

## ๐๏ธ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู ุงูุชููููุงุช (reviews)
```json
{
  "review_id": {
    "id": "string",
    "booking_id": "string",
    "car_id": "string",
    "renter_id": "string",
    "owner_id": "string",
    "rating": "number (1-5)",
    "cleanliness_rating": "number (1-5)",
    "condition_rating": "number (1-5)",
    "communication_rating": "number (1-5)",
    "comment": "string",
    "review_type": "renter_to_owner | owner_to_renter",
    "created_at": "timestamp",
    "updated_at": "timestamp"
  }
}
```

## ๐ API Endpoints

### ุฅูุดุงุก ุชูููู ุฌุฏูุฏ
```http
POST /api/reviews
Content-Type: application/json
Authorization: Bearer <jwt-token>

{
  "booking_id": "booking-id",
  "car_id": "car-id",
  "rating": 5,
  "cleanliness_rating": 5,
  "condition_rating": 4,
  "communication_rating": 5,
  "comment": "ุชุฌุฑุจุฉ ููุชุงุฒุฉ",
  "review_type": "renter_to_owner"
}
```

### ุงูุญุตูู ุนูู ุชููููุงุช ุงูุณูุงุฑุฉ
```http
GET /api/cars/{carId}/reviews
Authorization: Bearer <jwt-token>
```

### ุงูุญุตูู ุนูู ุชููููุงุช ุงููุณุชุฎุฏู
```http
GET /api/reviews/user?type=given
Authorization: Bearer <jwt-token>
```

### ุชุญุฏูุซ ุชูููู
```http
PUT /api/reviews/{reviewId}
Content-Type: application/json
Authorization: Bearer <jwt-token>

{
  "rating": 4,
  "comment": "ุชูููู ูุญุฏุซ"
}
```

### ุญุฐู ุชูููู
```http
DELETE /api/reviews/{reviewId}
Authorization: Bearer <jwt-token>
```

## ๐ฑ ูุงุฌูุงุช ุงููุณุชุฎุฏู

### 1. ุตูุญุฉ ุฅุถุงูุฉ ุงูุชูููู (`add-review.html`)
- **ุงููุตู**: ุตูุญุฉ ูุฎุตุตุฉ ูุฅุถุงูุฉ ุชูููู ุฌุฏูุฏ ุจุนุฏ ุงูุชูุงุก ุงูุญุฌุฒ
- **ุงููููุฒุงุช**:
  - ุนุฑุถ ูุนูููุงุช ุงูุญุฌุฒ
  - ุชูููู ุจุงููุฌูู (ุชูุงุนูู)
  - ุชููููุงุช ููุตูุฉ
  - ุญูู ุงูุชุนูููุงุช ูุน ุนุฏุงุฏ ุงูุฃุญุฑู
  - ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช

### 2. ุตูุญุฉ ุงูุชููููุงุช (`reviews.html`)
- **ุงููุตู**: ุตูุญุฉ ูุฅุฏุงุฑุฉ ุฌููุน ุงูุชููููุงุช
- **ุงููููุฒุงุช**:
  - ุฅุญุตุงุฆูุงุช ุดุงููุฉ
  - ุชุตููุฉ ุงูุชููููุงุช
  - ุนุฑุถ ุงูุชููููุงุช ุจุชุตููู ุฌููู
  - ุฅููุงููุฉ ุงูุชุนุฏูู ูุงูุญุฐู

### 3. ุนุฑุถ ุงูุชููููุงุช ูู ุชูุงุตูู ุงูุณูุงุฑุฉ
- **ุงููุตู**: ุนุฑุถ ุงูุชููููุงุช ูู ุตูุญุฉ ุชูุงุตูู ุงูุณูุงุฑุฉ
- **ุงููููุฒุงุช**:
  - ูุชูุณุท ุงูุชูููู
  - ูุงุฆูุฉ ุงูุชููููุงุช
  - ุชุตููู ุงูุชููููุงุช

## ๐จ ุงูุชุตููู ูุงูุฃููุงุท

### ูุธุงู ุงูุชูููู ุจุงููุฌูู
```css
.stars i {
    font-size: 1.5rem;
    color: #ddd;
    cursor: pointer;
    transition: all 0.2s ease;
}

.stars i.fas.text-warning {
    color: #ffc107;
}
```

### ุจุทุงูุงุช ุงูุชูููู
```css
.review-item {
    background: white;
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 1rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}
```

### ุงูุฅุญุตุงุฆูุงุช
```css
.review-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}
```

## ๐ ุงูุฃูุงู ูุงูุชุญูู

### ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
- ุงูุชุญูู ูู ุฃู ุงููุณุชุฎุฏู ูู ุตุงุญุจ ุงูุชูููู
- ุงูุชุญูู ูู ุฃู ุงูุญุฌุฒ ููุชูู ูุจู ุงูุชูููู
- ููุน ุงูุชููููุงุช ุงูููุฑุฑุฉ ูููุณ ุงูุญุฌุฒ

### ุงูุชุญูู ูู ุงูุจูุงูุงุช
```javascript
// ุงูุชุญูู ูู ุงูุชูููู
if (rating < 1 || rating > 5) {
    return res.status(400).json({ error: 'Rating must be between 1 and 5' });
}

// ุงูุชุญูู ูู ุนุฏู ูุฌูุฏ ุชูููู ูุณุจู
const existingReviews = await db.getReviewByBookingId(booking_id);
const existingReview = existingReviews.find(review => review.review_type === review_type);
if (existingReview) {
    return res.status(400).json({ error: 'Review already exists for this booking' });
}
```

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงูุญุณุงุจุงุช

### ูุชูุณุท ุงูุชูููู
```javascript
const averageRating = reviews.reduce((sum, review) => sum + review.rating, 0) / reviews.length;
```

### ุชูุฒูุน ุงูุชููููุงุช
```javascript
const ratingBreakdown = { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0 };
reviews.forEach(review => {
    ratingBreakdown[review.rating]++;
});
```

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุชุดุบูู ุงุฎุชุจุงุฑุงุช ุงูุชููููุงุช
```bash
npm run test-reviews
```

### ุงุฎุชุจุงุฑุงุช ุดุงููุฉ
- ุฅูุดุงุก ุชูููู ุฌุฏูุฏ
- ูุฑุงุกุฉ ุงูุชููููุงุช
- ุญุณุงุจ ูุชูุณุท ุงูุชูููู
- ุชุตููุฉ ุงูุชููููุงุช
- ุญุฐู ุงูุชููููุงุช

## ๐ ุงูุงุณุชุฎุฏุงู

### ุฅุถุงูุฉ ุชูููู ุฌุฏูุฏ
1. ุงูุชูู ุฅูู ุตูุญุฉ "ุญุฌูุฒุงุชู"
2. ุงุฎุชุฑ ุญุฌุฒ ููุชูู
3. ุงุถุบุท ุนูู "ุฅุถุงูุฉ ุชูููู"
4. ุงููุฃ ุงููููุฐุฌ ูุฃุฑุณู ุงูุชูููู

### ุนุฑุถ ุงูุชููููุงุช
1. ุงูุชูู ุฅูู ุตูุญุฉ "ุงูุชููููุงุช"
2. ุงุณุชุฎุฏู ุงูุชุตููุฉ ูุนุฑุถ ุงูุชููููุงุช ุงููุทููุจุฉ
3. ููููู ุชุนุฏูู ุฃู ุญุฐู ุชููููุงุชู

### ุนุฑุถ ุชููููุงุช ุงูุณูุงุฑุฉ
1. ุงูุชูู ุฅูู ุตูุญุฉ ุชูุงุตูู ุงูุณูุงุฑุฉ
2. ุงุจุญุซ ุนู ูุณู "ุงูุชููููุงุช"
3. ุดุงูุฏ ูุชูุณุท ุงูุชูููู ูุงูุชููููุงุช ุงูุชูุตูููุฉ

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ุงูููุฒุงุช ุงููุฎุทุทุฉ
- [ ] ุชูููู ุงููุงูู ูููุณุชุฃุฌุฑ
- [ ] ุฑุฏูุฏ ุนูู ุงูุชููููุงุช
- [ ] ุตูุฑ ูู ุงูุชููููุงุช
- [ ] ูุธุงู ุงูููุงูุขุช ููุชููููุงุช
- [ ] ุชูุงุฑูุฑ ุงูุชููููุงุช ุงููุดุจููุฉ
- [ ] ุชุตููุฉ ุงูุชููููุงุช ุญุณุจ ุงูุชุงุฑูุฎ
- [ ] ุชุตุฏูุฑ ุชูุงุฑูุฑ ุงูุชููููุงุช

### ุงูุชุญุณููุงุช ุงูุชูููุฉ
- [ ] ุชุฎุฒูู ูุคูุช ููุชููููุงุช
- [ ] ุชุญุฏูุซุงุช ููุฑูุฉ ููุชููููุงุช
- [ ] ุฅุดุนุงุฑุงุช ููุชููููุงุช ุงูุฌุฏูุฏุฉ
- [ ] ุชุญููู ูุดุงุนุฑ ุงูุชุนูููุงุช

## ๐ ุงูุฏุนู

ููุงุณุชูุณุงุฑุงุช ุญูู ูุธุงู ุงูุชููููุงุช ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงููุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.

---

**ูุธุงู ุงูุชููููุงุช** - ุจูุงุก ูุฌุชูุน ููุซูู ูุดูุงู ูู ููุตุฉ ุดุงุฑู ุณูุงุฑุชู
