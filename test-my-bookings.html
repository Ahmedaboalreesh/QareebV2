<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงุฎุชุจุงุฑ ุตูุญุฉ ุญุฌูุฒุงุชู</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .test-section {
            margin-top: 80px;
            padding: 40px 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: calc(100vh - 80px);
        }
        
        .test-container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .test-header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .test-header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-outline {
            background: transparent;
            color: #667eea;
            border: 2px solid #667eea;
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .info-box {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }
        
        .info-box h4 {
            color: #1976d2;
            margin-bottom: 10px;
        }
        
        .info-box ul {
            text-align: right;
            margin: 0;
            padding-right: 20px;
        }
        
        .info-box li {
            margin-bottom: 5px;
            color: #666;
        }
        
        .data-preview {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            font-family: monospace;
            font-size: 0.9rem;
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-logo">
                    <a href="index.html">
                        <i class="fas fa-car"></i>
                        <span>ููุตุฉ ุชุฃุฌูุฑ ุงูุณูุงุฑุงุช</span>
                    </a>
                </div>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link">ุงูุฑุฆูุณูุฉ</a>
                    </li>
                    <li class="nav-item">
                        <a href="browse-cars.html" class="nav-link">ุชุตูุญ ุงูุณูุงุฑุงุช</a>
                    </li>
                    <li class="nav-item">
                        <a href="add-car.html" class="nav-link">ุฅุถุงูุฉ ุณูุงุฑุฉ</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Test Section -->
    <section class="test-section">
        <div class="container">
            <div class="test-header">
                <h1>ุงุฎุชุจุงุฑ ุตูุญุฉ ุญุฌูุฒุงุชู</h1>
                <p>ุฅุตูุงุญ ูุดููุฉ "undefined" ูุนุฑุถ ุงููุนูููุงุช ุงูุตุญูุญุฉ</p>
            </div>

            <div class="test-container">
                <h2>ุงููุดููุฉ ุงููุตูุญุฉ</h2>
                <div class="info-box">
                    <h4>ุงููุดููุฉ ุงูุฃุตููุฉ:</h4>
                    <ul>
                        <li>โ ุธููุฑ "undefined" ุจุฏูุงู ูู ุงููุนูููุงุช ุงูุตุญูุญุฉ</li>
                        <li>โ ุนุฏู ูุฌูุฏ ุจูุงูุงุช ูุงููุฉ ููุญุฌูุฒุงุช</li>
                        <li>โ ุนุฏู ุงูุชุนุงูู ูุน ุงูุจูุงูุงุช ุงููุงุฑุบุฉ</li>
                        <li>โ ุนุฏู ูุฌูุฏ ูุนูููุงุช ูุงูู ุงูุณูุงุฑุฉ</li>
                    </ul>
                </div>
            </div>

            <div class="test-container">
                <h2>ุงูุญู ุงููุทุจู</h2>
                <div class="info-box">
                    <h4>ุงูุชุญุฏูุซุงุช ุงููุทุจูุฉ:</h4>
                    <ul>
                        <li>โ ุฅุถุงูุฉ ุจูุงูุงุช ุดุงููุฉ ููุญุฌูุฒุงุช</li>
                        <li>โ ุงูุชุนุงูู ุงูุขูู ูุน ุงูุจูุงูุงุช ุงููุงุฑุบุฉ</li>
                        <li>โ ุฅุถุงูุฉ ูุนูููุงุช ูุงูู ุงูุณูุงุฑุฉ</li>
                        <li>โ ุชุญุณูู ุนุฑุถ ุชูุงุตูู ุงูุญุฌุฒ</li>
                        <li>โ ุฅุถุงูุฉ fallbacks ููุจูุงูุงุช ุงูููููุฏุฉ</li>
                        <li>โ ุชุตููุฉ ุงูุญุฌูุฒุงุช ุญุณุจ ุงููุณุชุฎุฏู ุงูุญุงูู</li>
                    </ul>
                </div>
            </div>

            <div class="test-container">
                <h2>ุงุฎุชุจุงุฑ ุงูุญู</h2>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="testMyBookings()">
                        <i class="fas fa-eye"></i>
                        ุงุฎุชุจุงุฑ ุตูุญุฉ ุญุฌูุฒุงุชู
                    </button>
                    <button class="btn btn-success" onclick="addSampleBookings()">
                        <i class="fas fa-plus"></i>
                        ุฅุถุงูุฉ ุญุฌูุฒุงุช ุชุฌุฑูุจูุฉ
                    </button>
                    <button class="btn btn-outline" onclick="clearBookings()">
                        <i class="fas fa-trash"></i>
                        ูุณุญ ุงูุญุฌูุฒุงุช
                    </button>
                    <button class="btn btn-outline" onclick="showCurrentData()">
                        <i class="fas fa-database"></i>
                        ุนุฑุถ ุงูุจูุงูุงุช ุงูุญุงููุฉ
                    </button>
                </div>
                
                <div class="info-box">
                    <h4>ููููุฉ ุงุฎุชุจุงุฑ ุงูุญู:</h4>
                    <ul>
                        <li>1. ุงุถุบุท ุนูู "ุฅุถุงูุฉ ุญุฌูุฒุงุช ุชุฌุฑูุจูุฉ" ูุฅูุดุงุก ุจูุงูุงุช</li>
                        <li>2. ุงุถุบุท ุนูู "ุงุฎุชุจุงุฑ ุตูุญุฉ ุญุฌูุฒุงุชู" ููุชุญ ุงูุตูุญุฉ</li>
                        <li>3. ุชุฃูุฏ ูู ุนุฏู ุธููุฑ "undefined"</li>
                        <li>4. ุชุญูู ูู ุนุฑุถ ุฌููุน ุงููุนูููุงุช ุจุดูู ุตุญูุญ</li>
                        <li>5. ุงุฎุชุจุฑ ุนุฑุถ ุชูุงุตูู ุงูุญุฌุฒ</li>
                        <li>6. ุงุฎุชุจุฑ ุงูุชุตููุฉ ุญุณุจ ุงูุญุงูุฉ</li>
                    </ul>
                </div>
            </div>

            <div class="test-container">
                <h2>ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ</h2>
                <div class="info-box">
                    <h4>ูุนูููุงุช ุฅุถุงููุฉ ููุญุฌูุฒุงุช:</h4>
                    <ul>
                        <li>๐ฑ **ูุนูููุงุช ุงูุณูุงุฑุฉ**: ุงููุงุฑูุฉุ ุงูููุฏููุ ุณูุฉ ุงูุตูุน</li>
                        <li>๐ค **ูุนูููุงุช ุงููุงูู**: ุงูุงุณูุ ุฑูู ุงููุงุชู</li>
                        <li>๐ **ุชูุงุฑูุฎ ูุญุณูุฉ**: ุชูุณูู ุนุฑุจู ููุชูุงุฑูุฎ</li>
                        <li>๐ฐ **ูุนูููุงุช ูุงููุฉ**: ุงููุจูุบ ุงูุฅุฌูุงูู ูุงููุฏูุนุฉ</li>
                        <li>๐ **ููุงูุน ุงูุงุณุชูุงู ูุงูุฅุฑุฌุงุน**: ุชูุงุตูู ุฏูููุฉ</li>
                        <li>๐ **ููุงุญุธุงุช ุงููุณุชุฃุฌุฑ**: ูุนูููุงุช ุฅุถุงููุฉ</li>
                    </ul>
                </div>
                
                <div class="data-preview" id="dataPreview">
                    <!-- ุงูุจูุงูุงุช ุณุชุธูุฑ ููุง -->
                </div>
            </div>
        </div>
    </section>

    <script>
        function testMyBookings() {
            // ุฅูุดุงุก ูุณุชุฎุฏู ุชุฌุฑูุจู ุฅุฐุง ูู ููู ููุฌูุฏุงู
            if (!localStorage.getItem('userData')) {
                const testUser = {
                    id: 1,
                    name: 'ุฃุญูุฏ ูุญูุฏ',
                    email: 'ahmed@test.com',
                    phone: '+966501234567'
                };
                localStorage.setItem('userData', JSON.stringify(testUser));
                localStorage.setItem('userToken', 'test-token');
                localStorage.setItem('userType', 'renter');
            }
            
            // ูุชุญ ุตูุญุฉ ุงูุญุฌูุฒุงุช
            window.open('my-bookings.html', '_blank');
        }

        function addSampleBookings() {
            const currentUser = JSON.parse(localStorage.getItem('userData') || '{}');
            const currentUserId = currentUser.id || 1;
            
            const sampleBookings = [
                {
                    id: 1,
                    car_id: 1,
                    renter_id: currentUserId,
                    car_name: 'ุชูููุชุง ูุงูุฑู 2023',
                    car_brand: 'ุชูููุชุง',
                    car_model: 'ูุงูุฑู',
                    car_year: '2023',
                    start_date: '2024-01-15',
                    end_date: '2024-01-18',
                    total_amount: 450,
                    deposit_amount: 500,
                    status: 'pending',
                    pickup_location: 'ูุทุงุฑ ุงูููู ุฎุงูุฏ ุงูุฏููู',
                    return_location: 'ูุทุงุฑ ุงูููู ุฎุงูุฏ ุงูุฏููู',
                    renter_notes: 'ุฃุญุชุงุฌ ุณูุงุฑุฉ ููุชููู ูู ุงูุฑูุงุถ',
                    created_at: '2024-01-10T10:00:00Z',
                    owner_name: 'ุฃุญูุฏ ูุญูุฏ',
                    owner_phone: '+966501234567'
                },
                {
                    id: 2,
                    car_id: 3,
                    renter_id: currentUserId,
                    car_name: 'ูุฑุณูุฏุณ C-Class 2023',
                    car_brand: 'ูุฑุณูุฏุณ',
                    car_model: 'C-Class',
                    car_year: '2023',
                    start_date: '2024-01-20',
                    end_date: '2024-01-25',
                    total_amount: 1500,
                    deposit_amount: 500,
                    status: 'approved',
                    pickup_location: 'ููุฏู ุงูุดุฑู',
                    return_location: 'ููุฏู ุงูุดุฑู',
                    renter_notes: 'ุฑุญูุฉ ุนูู ูู ุงูุฏูุงู',
                    created_at: '2024-01-12T14:30:00Z',
                    owner_name: 'ูุงุทูุฉ ุนูู',
                    owner_phone: '+966507654321'
                },
                {
                    id: 3,
                    car_id: 5,
                    renter_id: currentUserId,
                    car_name: 'ููููุฏุงู ุณููุงุชุง 2022',
                    car_brand: 'ููููุฏุงู',
                    car_model: 'ุณููุงุชุง',
                    car_year: '2022',
                    start_date: '2024-02-01',
                    end_date: '2024-02-03',
                    total_amount: 300,
                    deposit_amount: 400,
                    status: 'completed',
                    pickup_location: 'ูุฑูุฒ ุงููุฏููุฉ ุงูุชุฌุงุฑู',
                    return_location: 'ูุฑูุฒ ุงููุฏููุฉ ุงูุชุฌุงุฑู',
                    renter_notes: 'ุฑุญูุฉ ุนุงุฆููุฉ ูุตูุฑุฉ',
                    created_at: '2024-01-25T09:15:00Z',
                    owner_name: 'ุฎุงูุฏ ุนุจุฏุงููู',
                    owner_phone: '+966509876543'
                },
                {
                    id: 4,
                    car_id: 7,
                    renter_id: currentUserId,
                    car_name: 'ููุณุงู ุฃูุชููุง 2023',
                    car_brand: 'ููุณุงู',
                    car_model: 'ุฃูุชููุง',
                    car_year: '2023',
                    start_date: '2024-02-10',
                    end_date: '2024-02-12',
                    total_amount: 400,
                    deposit_amount: 300,
                    status: 'rejected',
                    pickup_location: 'ูุทุงุฑ ุงูููู ููุฏ ุงูุฏููู',
                    return_location: 'ูุทุงุฑ ุงูููู ููุฏ ุงูุฏููู',
                    renter_notes: 'ุฑุญูุฉ ุนูู ูู ุงูุฏูุงู',
                    created_at: '2024-01-30T16:45:00Z',
                    owner_name: 'ุณุงุฑุฉ ุฃุญูุฏ',
                    owner_phone: '+966505555555'
                }
            ];
            
            // ุญูุธ ุงูุญุฌูุฒุงุช
            localStorage.setItem('mockBookings', JSON.stringify(sampleBookings));
            
            alert('ุชู ุฅุถุงูุฉ ุญุฌูุฒุงุช ุชุฌุฑูุจูุฉ ุจูุฌุงุญ! ููููู ุงูุขู ุงุฎุชุจุงุฑ ุตูุญุฉ ุงูุญุฌูุฒุงุช');
            showCurrentData();
        }

        function clearBookings() {
            if (confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ูุณุญ ุฌููุน ุงูุญุฌูุฒุงุชุ')) {
                localStorage.removeItem('mockBookings');
                alert('ุชู ูุณุญ ุฌููุน ุงูุญุฌูุฒุงุช');
                showCurrentData();
            }
        }

        function showCurrentData() {
            const bookings = JSON.parse(localStorage.getItem('mockBookings') || '[]');
            const userData = JSON.parse(localStorage.getItem('userData') || '{}');
            
            const dataPreview = document.getElementById('dataPreview');
            dataPreview.innerHTML = `
                <h4>ุงูุจูุงูุงุช ุงูุญุงููุฉ:</h4>
                <p><strong>ุงููุณุชุฎุฏู:</strong> ${userData.name || 'ุบูุฑ ูุญุฏุฏ'} (ID: ${userData.id || 'ุบูุฑ ูุญุฏุฏ'})</p>
                <p><strong>ุนุฏุฏ ุงูุญุฌูุฒุงุช:</strong> ${bookings.length}</p>
                <h5>ุงูุญุฌูุฒุงุช:</h5>
                <pre>${JSON.stringify(bookings, null, 2)}</pre>
            `;
        }

        // ุนุฑุถ ุงูุจูุงูุงุช ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        document.addEventListener('DOMContentLoaded', function() {
            showCurrentData();
        });
    </script>
</body>
</html>
